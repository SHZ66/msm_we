<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trp-cage haMSM Construction and Analysis &mdash; msm_we 0.1.4 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Trp-cage haMSM Analysis" href="analysis.html" />
    <link rel="prev" title="Examples" href="../examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> msm_we
          </a>
              <div class="version">
                0.1.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">msm_we</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Installation/Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../examples.html#hamsm-construction">haMSM Construction</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Trp-cage haMSM Construction and Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Model-building">Model building</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Save-model">Save model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#hamsm-analysis">haMSM Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples.html#optimization">Optimization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_todos.html">TODOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">msm_we</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../examples.html">Examples</a> &raquo;</li>
      <li>Trp-cage haMSM Construction and Analysis</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_examples/hamsm_construction.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Trp-cage-haMSM-Construction-and-Analysis">
<h1>Trp-cage haMSM Construction and Analysis<a class="headerlink" href="#Trp-cage-haMSM-Construction-and-Analysis" title="Permalink to this heading"></a></h1>
<p>For these examples, we’ll be constructing an haMSM from simulations of Trp-cage unfolding.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">msm_we</span> <span class="kn">import</span> <span class="n">msm_we</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">ray</span>
</pre></div>
</div>
</div>
<p>This is just to clean up the logging output for display in the documentation webpage.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">msm_we</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_log_render</span><span class="o">.</span><span class="n">show_time</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">msm_we</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">console</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">65</span>
</pre></div>
</div>
</div>
<section id="Model-building">
<h2>Model building<a class="headerlink" href="#Model-building" title="Permalink to this heading"></a></h2>
<p>First, let’s set some parameters for haMSM building.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">h5file_paths</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;data/west.h5&#39;</span><span class="p">]</span>

<span class="c1"># Number of MSM microstates to initially put in each stratum/WE bin</span>
<span class="n">clusters_per_stratum</span> <span class="o">=</span> <span class="mi">35</span>

<span class="n">dimreduce_method</span> <span class="o">=</span> <span class="s1">&#39;vamp&#39;</span>

<span class="c1"># Boundaries of the basis/target, in progress coordinate space</span>
<span class="n">pcoord_bounds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;basis&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]],</span>
    <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mi">100</span><span class="p">]]</span>
<span class="p">}</span>

<span class="n">model_name</span> <span class="o">=</span> <span class="s1">&#39;NaCl Sample&#39;</span>

<span class="c1"># Reference structure</span>
<span class="n">ref_file</span> <span class="o">=</span> <span class="s1">&#39;data/2JOF.pdb&#39;</span>

<span class="c1"># WESTPA resampling time</span>
<span class="n">tau</span> <span class="o">=</span> <span class="mf">1e-9</span>
</pre></div>
</div>
</div>
<p>We’ll use full XYZ coordinates for our MSM features. This is a simple (and poor) choice – pairwise alpha-carbons would be better, but I’m using this for simplicity.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">processCoordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coords</span><span class="p">):</span>

    <span class="k">return</span> <span class="n">coords</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">coords</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">msm_we</span><span class="o">.</span><span class="n">modelWE</span><span class="o">.</span><span class="n">processCoordinates</span> <span class="o">=</span> <span class="n">processCoordinates</span>
</pre></div>
</div>
</div>
<section id="With-build_analyze_model">
<h3>With <code class="docutils literal notranslate"><span class="pre">build_analyze_model</span></code><a class="headerlink" href="#With-build_analyze_model" title="Permalink to this heading"></a></h3>
<p>You can construct an haMSM (and validation haMSMs) with one call to <code class="docutils literal notranslate"><span class="pre">build_analyze_model()</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">msm_we</span><span class="o">.</span><span class="n">modelWE</span><span class="p">()</span>

<span class="n">model</span><span class="o">.</span><span class="n">build_analyze_model</span><span class="p">(</span>
    <span class="n">file_paths</span><span class="o">=</span><span class="n">h5file_paths</span><span class="p">,</span>
    <span class="c1"># ref_struct=basis_ref_dict,</span>
    <span class="n">ref_struct</span><span class="o">=</span><span class="n">ref_file</span><span class="p">,</span>
    <span class="n">modelName</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span>
    <span class="n">basis_pcoord_bounds</span><span class="o">=</span><span class="n">pcoord_bounds</span><span class="p">[</span><span class="s1">&#39;basis&#39;</span><span class="p">],</span>
    <span class="n">target_pcoord_bounds</span><span class="o">=</span><span class="n">pcoord_bounds</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span>
    <span class="n">dimreduce_method</span><span class="o">=</span><span class="n">dimreduce_method</span><span class="p">,</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="n">clusters_per_stratum</span><span class="p">,</span>
    <span class="n">tau</span><span class="o">=</span><span class="n">tau</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "b6bd8d6f5ee34d55a5584f85735f9632", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">2022-10-03 17:30:44,884 INFO worker.py:1509 -- Started a local
Ray instance. View the dashboard at <span style="color: #008000; text-decoration-color: #008000; font-weight: bold">127.0.0.1:8265 </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "737b23ad90fa4ff1a173ed91f86d8baf", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Performing weighted vamp                  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#2769" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">2769</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Weighted vamp will reduce <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">816</span> to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">496</span>      <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#2782" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">2782</span></a>
         components.                               <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Be aware: Number of cluster centers is an <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3057" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3057</span></a>
         important parameter, and can drastically  <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         affect model quality. We recommend        <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         examining block-validation results with a <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         range of numbers of clusters, to check    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         for overfitting.                          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning stratified clustering.          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3064" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3064</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Obtaining bin definitions from iteration  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3482" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3482</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> in file data/west.h5                    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Loading pickled bin mapper from H5 for    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3486" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3486</span></a>
         stratified clustering<span style="color: #808000; text-decoration-color: #808000">...</span>                  <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Doing stratified clustering with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> total <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#254" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">254</span></a>
         clusters                                   <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">             </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "f63b748e8ab54b5690758c7b7561f6eb", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Clustering couldn't use last iteration,   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3595" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3595</span></a>
         not all bins filled.                      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "de9957fa3c2049aaa878d07d1dd4675d", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "617304486b83477d849323465a062d0d", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "c8bfec18438e43faaa573403b9b9660c", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "0bd338a0c2124eab8b8b4ad51e32e7b6", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">350</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "2e3db57d251842afa920b6a58249ecce", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "e56bbbae0b1e4d3392d12ab6d04c5eb6", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000000; text-decoration-color: #000000">/home/jd/msm_we/msm_we/msm_we.py:4248: VisibleDeprecationWarning:</span>
<span style="color: #000000; text-decoration-color: #000000">Creating an ndarray from ragged nested sequences (which is a </span>
<span style="color: #000000; text-decoration-color: #000000">list-or-tuple of lists-or-tuples-or ndarrays with different </span>
<span style="color: #000000; text-decoration-color: #000000">lengths or shapes) is deprecated. If you meant to do this, you </span>
<span style="color: #000000; text-decoration-color: #000000">must specify 'dtype=object' when creating the ndarray.</span>
<span style="color: #000000; text-decoration-color: #000000">  self.targetRMSD_all = </span>
<span style="color: #000000; text-decoration-color: #000000">np.array(cluster_pcoord_all)[pcoord_sort_indices]</span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "1078ae8d1d594ce8899dd96868189660", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "a507663fc3cd4f91af571545f02de327", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.2810e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning analysis of cross-validation    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#1322" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">1322</span></a>
         group <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>/<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>.                                <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "b8b91618e8da470b87a6b97c4c7fea30", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "71da4fbd0b704a35b6f61d24335a74cf", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">370</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "28af1ef7f1e641fb824174c90c73a3d5", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "396b4462113c4999b3995c683802e11b", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "6163a97542444cb9b1c5fdfb598d0373", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "d0e9c84f2de94728b532671b4a1db708", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0158e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning analysis of cross-validation    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#1322" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">1322</span></a>
         group <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>/<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>.                                <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "abb93fa72df6465988d161ed16cf2d73", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">372</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "620d3e6aa40f49c0b5a0c1a61930f261", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "cd3bbf9613a94e9886c43ffd4f2807e7", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "4f9bd72e3a2e4ebb8ab55bce4f2f1ac9", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "8b68e8a3dbfb427fba625d40f701de3e", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2.0039e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
</section>
<section id="Step-by-step">
<h3>Step-by-step<a class="headerlink" href="#Step-by-step" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">build_analyze_model()</span></code> is just a convenient wrapper around the following steps.</p>
<p>You can run them manually if you want to observe each step of the process.</p>
<p>It’s helpful to start off by running step-by-step while you’re starting analysis for a system, to fine-tune parameters without re-running the entire workflow.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ray</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">ignore_reinit_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000000; text-decoration-color: #000000">2022-10-03 17:31:04,428 INFO worker.py:1351 -- Calling ray.init()</span>
<span style="color: #000000; text-decoration-color: #000000">again after it has already been called.</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
    <div style="margin-left: 50px;display: flex;flex-direction: row;align-items: center">
        <h3 style="color: var(--jp-ui-font-color0)">Ray</h3>
        <svg version="1.1" id="ray" width="3em" viewBox="0 0 144.5 144.6" style="margin-left: 3em;margin-right: 3em">
            <g id="layer-1">
                <path fill="#00a2e9" class="st0" d="M97.3,77.2c-3.8-1.1-6.2,0.9-8.3,5.1c-3.5,6.8-9.9,9.9-17.4,9.6S58,88.1,54.8,81.2c-1.4-3-3-4-6.3-4.1
                    c-5.6-0.1-9.9,0.1-13.1,6.4c-3.8,7.6-13.6,10.2-21.8,7.6C5.2,88.4-0.4,80.5,0,71.7c0.1-8.4,5.7-15.8,13.8-18.2
                    c8.4-2.6,17.5,0.7,22.3,8c1.3,1.9,1.3,5.2,3.6,5.6c3.9,0.6,8,0.2,12,0.2c1.8,0,1.9-1.6,2.4-2.8c3.5-7.8,9.7-11.8,18-11.9
                    c8.2-0.1,14.4,3.9,17.8,11.4c1.3,2.8,2.9,3.6,5.7,3.3c1-0.1,2,0.1,3,0c2.8-0.5,6.4,1.7,8.1-2.7s-2.3-5.5-4.1-7.5
                    c-5.1-5.7-10.9-10.8-16.1-16.3C84,38,81.9,37.1,78,38.3C66.7,42,56.2,35.7,53,24.1C50.3,14,57.3,2.8,67.7,0.5
                    C78.4-2,89,4.7,91.5,15.3c0.1,0.3,0.1,0.5,0.2,0.8c0.7,3.4,0.7,6.9-0.8,9.8c-1.7,3.2-0.8,5,1.5,7.2c6.7,6.5,13.3,13,19.8,19.7
                    c1.8,1.8,3,2.1,5.5,1.2c9.1-3.4,17.9-0.6,23.4,7c4.8,6.9,4.6,16.1-0.4,22.9c-5.4,7.2-14.2,9.9-23.1,6.5c-2.3-0.9-3.5-0.6-5.1,1.1
                    c-6.7,6.9-13.6,13.7-20.5,20.4c-1.8,1.8-2.5,3.2-1.4,5.9c3.5,8.7,0.3,18.6-7.7,23.6c-7.9,5-18.2,3.8-24.8-2.9
                    c-6.4-6.4-7.4-16.2-2.5-24.3c4.9-7.8,14.5-11,23.1-7.8c3,1.1,4.7,0.5,6.9-1.7C91.7,98.4,98,92.3,104.2,86c1.6-1.6,4.1-2.7,2.6-6.2
                    c-1.4-3.3-3.8-2.5-6.2-2.6C99.8,77.2,98.9,77.2,97.3,77.2z M72.1,29.7c5.5,0.1,9.9-4.3,10-9.8c0-0.1,0-0.2,0-0.3
                    C81.8,14,77,9.8,71.5,10.2c-5,0.3-9,4.2-9.3,9.2c-0.2,5.5,4,10.1,9.5,10.3C71.8,29.7,72,29.7,72.1,29.7z M72.3,62.3
                    c-5.4-0.1-9.9,4.2-10.1,9.7c0,0.2,0,0.3,0,0.5c0.2,5.4,4.5,9.7,9.9,10c5.1,0.1,9.9-4.7,10.1-9.8c0.2-5.5-4-10-9.5-10.3
                    C72.6,62.3,72.4,62.3,72.3,62.3z M115,72.5c0.1,5.4,4.5,9.7,9.8,9.9c5.6-0.2,10-4.8,10-10.4c-0.2-5.4-4.6-9.7-10-9.7
                    c-5.3-0.1-9.8,4.2-9.9,9.5C115,72.1,115,72.3,115,72.5z M19.5,62.3c-5.4,0.1-9.8,4.4-10,9.8c-0.1,5.1,5.2,10.4,10.2,10.3
                    c5.6-0.2,10-4.9,9.8-10.5c-0.1-5.4-4.5-9.7-9.9-9.6C19.6,62.3,19.5,62.3,19.5,62.3z M71.8,134.6c5.9,0.2,10.3-3.9,10.4-9.6
                    c0.5-5.5-3.6-10.4-9.1-10.8c-5.5-0.5-10.4,3.6-10.8,9.1c0,0.5,0,0.9,0,1.4c-0.2,5.3,4,9.8,9.3,10
                    C71.6,134.6,71.7,134.6,71.8,134.6z"/>
            </g>
        </svg>
        <table>
            <tr>
                <td style="text-align: left"><b>Python version:</b></td>
                <td style="text-align: left"><b>3.9.13</b></td>
            </tr>
            <tr>
                <td style="text-align: left"><b>Ray version:</b></td>
                <td style="text-align: left"><b> 2.0.0</b></td>
            </tr>
            <tr>
    <td style="text-align: left"><b>Dashboard:</b></td>
    <td style="text-align: left"><b><a href="http://127.0.0.1:8265" target="_blank">http://127.0.0.1:8265</a></b></td>
</tr>

        </table>
    </div>
</div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">msm_we</span><span class="o">.</span><span class="n">modelWE</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span>
    <span class="n">fileSpecifier</span><span class="o">=</span><span class="n">h5file_paths</span><span class="p">,</span>
    <span class="n">refPDBfile</span><span class="o">=</span><span class="n">ref_file</span><span class="p">,</span>
    <span class="n">modelName</span><span class="o">=</span><span class="n">model_name</span><span class="p">,</span>
    <span class="n">basis_pcoord_bounds</span><span class="o">=</span><span class="n">pcoord_bounds</span><span class="p">[</span><span class="s1">&#39;basis&#39;</span><span class="p">],</span>
    <span class="n">target_pcoord_bounds</span><span class="o">=</span><span class="n">pcoord_bounds</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span>
    <span class="n">dim_reduce_method</span><span class="o">=</span><span class="n">dimreduce_method</span><span class="p">,</span>
    <span class="n">tau</span><span class="o">=</span><span class="n">tau</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_iterations</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">get_coordSet</span><span class="p">(</span><span class="n">last_iter</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">maxIter</span><span class="p">,</span> <span class="n">streaming</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "0667e71defaf4d539353d115427db6f7", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">dimReduce</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Performing weighted vamp                  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#2769" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">2769</span></a>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Weighted vamp will reduce <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">816</span> to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">496</span>      <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#2782" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">2782</span></a>
         components.                               <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">cluster_coordinates</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="n">clusters_per_stratum</span><span class="p">,</span>
    <span class="n">use_ray</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">stratified</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">store_validation_model</span><span class="o">=</span><span class="kc">True</span> <span class="c1"># Required for block validation</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Be aware: Number of cluster centers is an <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3057" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3057</span></a>
         important parameter, and can drastically  <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         affect model quality. We recommend        <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         examining block-validation results with a <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         range of numbers of clusters, to check    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         for overfitting.                          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning stratified clustering.          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3064" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3064</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Obtaining bin definitions from iteration  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3482" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3482</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span> in file data/west.h5                    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Loading pickled bin mapper from H5 for    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3486" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3486</span></a>
         stratified clustering<span style="color: #808000; text-decoration-color: #808000">...</span>                  <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000; font-weight: bold">ERROR   </span> Stratified clustering currently MUST run  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3522" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3522</span></a>
         in streaming mode <span style="font-weight: bold">(</span>and with ray enabled   <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         for discretization<span style="font-weight: bold">)</span>. Enabling both and    <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         continuing<span style="color: #808000; text-decoration-color: #808000">...</span>                             <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Doing stratified clustering with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> total <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#254" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">254</span></a>
         clusters                                   <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">             </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "c8466a3a337d4651bd13185105bf3e2a", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Clustering couldn't use last iteration,   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#3595" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">3595</span></a>
         not all bins filled.                      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "d4f0d16842a54768a770d2824b7c2610", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "a992cff311a040d5a8ea2b6e8850d9b8", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_fluxMatrix</span><span class="p">(</span><span class="n">n_lag</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "e39068b4da354f06a18a92da047ba2eb", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">organize_fluxMatrix</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">350</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "db62d6eb6615422f88f4dd2c7e16e768", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "d0e70b752b414511bddfdbd526019b3e", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/jd/msm_we/msm_we/msm_we.py:4248: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (which is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to do this, you must specify &#39;dtype=object&#39; when creating the ndarray.
  self.targetRMSD_all = np.array(cluster_pcoord_all)[pcoord_sort_indices]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "ee0d348f743e44ae8efab14e4702d7c8", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_Tmatrix</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_steady_state</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.2810e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">get_steady_state_target_flux</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">do_block_validation</span><span class="p">(</span>
    <span class="n">cross_validation_groups</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">cross_validation_blocks</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning analysis of cross-validation    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#1322" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">1322</span></a>
         group <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>/<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>.                                <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "5537a7cf5cdd4095a53b770983685526", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "c567c1278f284fa0a72cfbe8c8b575d7", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">370</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "9b9d4fb713314a608ebc4fe6255e4dc7", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "22bf9112e5544c67bbf25ed5df5f527c", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "166a4bc2f28643ea82e465e6a5238c89", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "89e48752bf88422aa253d84bc932cf14", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0158e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Beginning analysis of cross-validation    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#1322" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">1322</span></a>
         group <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>/<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2</span>.                                <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "9931166333db41c58003d9f52632901c", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "a7d9ae969d3a417b8538ca66b96c7de6", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Started with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">420</span> clusters, and removed    <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4001" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4001</span></a>
         <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">372</span>                                       <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800000; text-decoration-color: #800000">WARNING </span> All clusters were cleaned from bins <span style="font-weight: bold">{</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">11</span><span style="font-weight: bold">}</span>  <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4017" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4017</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using cached model for discretization     <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4113" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4113</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "771d4e6aac4748d38f17f9d1301dac86", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "ca70e9c5cf6d482ea03f4dbc1347eaf4", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Discretization complete                   <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4177" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4177</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Using Ray cluster with <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">16.0</span> CPUs!          <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#873" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">873</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "2b8cabca99bc4a0faf1a34df18db0720", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "58a8ff7754e74285ab0093eeaf8e8499", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Fluxmatrices all obtained                 <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#4926" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">4926</span></a>
</pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span>                                           <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5571" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5571</span></a>
         Flux converged to <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">2.0039e+06</span> after <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1</span>      <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
         iterations of inverse iteration.          <span style="color: #7f7f7f; text-decoration-color: #7f7f7f">              </span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #000080; text-decoration-color: #000080">INFO    </span> Done with steady-state estimation.        <a href="file:///home/jd/msm_we/msm_we/msm_we.py" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">msm_we.py</span></a><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">:</span><a href="file:///home/jd/msm_we/msm_we/msm_we.py#5582" target="_blank"><span style="color: #7f7f7f; text-decoration-color: #7f7f7f">5582</span></a>
</pre></div>
</div>
</section>
</section>
<section id="Save-model">
<h2>Save model<a class="headerlink" href="#Save-model" title="Permalink to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data/pickled_model&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">of</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">of</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../examples.html" class="btn btn-neutral float-left" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="analysis.html" class="btn btn-neutral float-right" title="Trp-cage haMSM Analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, John Russo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>